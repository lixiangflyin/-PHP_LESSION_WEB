<?php
/**
上传限制
在这个脚本中，我们增加了对文件上传的限制。
用户只能上传 .gif 或 .jpeg 文件，文件大小必须小于 20 kb：
 */
if ($_FILES['myfile']['error'] > 0)
{
	echo 'Error: ' . $_FILES['myfile']['error'];
}
else 
{
	if(strpos($_FILES['myfile']['type'],'image') == 0 
		&& $_FILES['myfile']['size'] < 20480)
	{	
		echo 'Upload: ' . $_FILES['myfile']['name'] . "<br/>";
		echo 'Type: ' .   $_FILES['myfile']['type'] . "<br/>";
		echo 'Size: ' .   $_FILES['myfile']['size'] . "Bytes<br/>";
		echo 'Stored in: ' . $_FILES['myfile']['tmp_name'] . "<br/>";
	}
	else 
	{
		echo 'invalid file';
	}
}
/**
Content-type: text/html

Upload: psb.jpg<br/>Type: image/pjpeg<br/>Size: 251426Bytes<br/>Stored in: F:\opt\tmp\uploadtemp\php5137.tmp<br/>
 */
?>